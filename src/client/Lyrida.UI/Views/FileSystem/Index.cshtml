@using Lyrida.Infrastructure.Common.Enums;
@using Lyrida.Infrastructure.Localization;
@using Lyrida.UI.Common.DTO.Configuration;
@using Lyrida.UI.Common.DTO.FileSystem;
@inject ITranslationService translattionService
@{
    if (Model is ProfilePreferencesDto profilePreference)
    {
        <script>
            showThumbnails = @profilePreference.ShowImagePreviews.ToString().ToLower();
            imagePreviewsQuality = @profilePreference.ImagePreviewsQuality.ToString().ToLower();
            fullImageQuality = @profilePreference.FullImageQuality.ToString().ToLower();
            // let REMEMBER_OPEN_TABS = @profilePreference.RememberOpenTabs.ToString().ToLower();
            // let USE_2FA = @profilePreference.Use2fa.ToString().ToLower();            
        </script>
    }
}
<div class="dynTab-container">
    <ul class="dynTab-tabs dynTab-clearfix" id="dynTab_tabHeaders">
        <!-- tabs will be populated dynamically here -->
        <li id="dynTab_addTab">
            <a href="#" title="Add Tab">+</a>
        </li>
    </ul>
</div>
<div id="dynTab_tabPages"></div>

@section Scripts {
    <script type="text/javascript">
        const initialPages = [
            { title: "Home", path: "/app/", platformId: 1 },
        ];
        let nextTabId = initialPages.length;

        $('#dynTab_addTab').click((e) => {
            e.preventDefault();
            addNewTab("New Tab", null, null, null);
            e.stopPropagation();
        });

        $(document).ready(() => {
            if (initialPages && initialPages.length > 0) {
                initialPages.forEach((page, index) => {
                    addNewTab(page.title, page.path, index, page.platformId);
                });
            }
        });
    </script>
}